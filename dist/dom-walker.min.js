!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.DOMWalker={})}(this,function(e){"use strict";let t=null;const r=e=>{t=e},n=()=>t,o={},i=e=>e&&"string"==typeof e&&e.length>1&&o.hasOwnProperty(e.charAt()),a=e=>o[e.charAt()],l=(e,t)=>{if("string"!=typeof e||1!==e.length)throw new Error("Name Prefix must be one character string.");o[e]=t};let s={};const d=(e={})=>{s=Object.assign({},s,e)},g=e=>`${parseInt(e,10)}`===e,u=(e,t,r)=>void 0!==r?t.getChildrenByName(e,r):e,h=(e,t,r)=>{const n=u(e,t,r);return t.isList(n)?t.getNodeAt(e):n},c=(e,t,r)=>t.toList(u(e,t,r));let f,N;const p=(e,t,r)=>t.isNode(e)||t.isList(e)?new Proxy(((e,t,r)=>{function n(){throw new Error("should have been never called")}return n.node=e,n.childName=r,n.adapter=t,n})(e,t,r),f):e;N={isIntKey:g,getValue:u,getSingleNode:h,getNodeList:c,wrapWithProxy:p};f={get:({node:e,adapter:t,childName:r},n)=>{if(g(n))return p(t.getNodeAt(c(e,t,r),n),t);if(i(n))return a(n)(u(e,t,r),t,[n.substr(1)],N);return p(u(e,t,r),t,n)},has:({node:e,adapter:t,childName:r},n)=>g(n)?!!t.getNodeAt(c(e,t,r),n):!!i(n)||t.hasChild(h(),n),apply:({node:e,adapter:t,childName:r},n,i)=>{if(void 0===r)throw new Error("Cannot call on TreeWalker Node");if((e=>"string"==typeof e&&1===e.length&&o.hasOwnProperty(e))(r))return a(r)(e,t,i,N);if((e=>e&&"string"==typeof e&&s.hasOwnProperty(e))(r))return((e,...t)=>s[e](...t))(r,e,t,i,N);throw new Error(`"${r}" is not a callable object.`)}};var m={toString:e=>e.toString(),valueOf:e=>e,[Symbol.toPrimitive]:e=>e};var y={on:(e,t,[r,n],o)=>{},off:(e,t,[r,n],o)=>{},emmit:(e,t,[r],n)=>{}};var A={length:(e,t)=>t.isList(e)?t.getLength(e):t.isNode(e)?1:0,first:(e,t,r,n)=>{},filter:(e,t,[r],n)=>{},map:(e,t,[r,n=!0],o)=>{},reduce:(e,t,[r,n],o)=>{}};const b=(e,t,r,n)=>{const o=n.getSingleNode(e,t);return o.hasAttributes()?o.attributes:null};var w={name:(e,t,r,n)=>t.getName(n.getSingleNode(e,t)),text:(e,t)=>t.getText(e),children:(e,t,[r],n)=>{let o;return e=n.getSingleNode(e,t),o=r?t.getChildrenByName(e,r):t.getChildren(e),n.wrapWithProxy(o,t)},attributes:b,attribute:(e,t,[r],n)=>{const o=b(e,t,0,n);if(o){const e=o.getNamedItem(r);if(e)return e.value}return""},childAt:(e,t,[r=0],n)=>t.getChildAt(n.getSingleNode(e,t),r),root:(e,t,r,n)=>n.wrapWithProxy(t.getNodeRoot(e),t),parent:(e,t,r,n)=>n.wrapWithProxy(t.getNodeParent(e),t),query:(e,t,[r],n)=>{},queryAll:(e,t,[r],n)=>{}};const C=e=>e instanceof HTMLCollection||e instanceof Array,v=(...e)=>{const{length:t}=e,[r]=e;if(1===t&&C(r))return r;const n=[];for(let r=0;r<t;r++){const t=e[r];C(t)?n.push.call(t):n.push(t)}return n},x=e=>e instanceof HTMLElement,P=e=>C(e)?e.length?e[0]:null:x(e)?e:null,L=e=>(e=P(e),x(e)?e.children:v());r({isList:C,toList:v,isNode:x,getNodeAt:(e,t=0)=>C(e)?e[t]:e,getLength:e=>e.length,getChildren:L,getChildrenByName:(e,t)=>{t=t.toLowerCase();const r=L(e),{length:n}=r;if(!n)return r;const o=[];for(let e=0;e<r.length;e++){const n=r[e];n.nodeName.toLowerCase()===t&&o.push(n)}return o},hasChildren:e=>!!P(e).childElementCount,hasChild:(e,t)=>{const r=L(e),{length:n}=r;for(let e=0;e<n;e++)if(r[e].nodeName===t)return!0;return!1},getChildAt:(e,t)=>L(e)[t],hasAttribute:(e,t)=>P(e).hasAttribute(t),getAttributeValue:(e,t)=>P(e).getAttribute(t),getName:e=>P(e).nodeName,getText:e=>P(e).innerText,getNodeParent:e=>P(e).parentNode,getNodeRoot:e=>P(e).getRootNode(),validateRoot:e=>void 0===e||e===document?document.firstElementChild:"string"==typeof e?document.querySelector(e):e}),d(m),d(w),d(A),d(y),l("$",(e,t,[r])=>t.getAttributeValue(e,r));const S=(e,t=n())=>p(t.validateRoot(e),t);e.setDefaultAdapter=r,e.getDefaultAdapter=n,e.addAugmentations=d,e.resetAugmentations=((e={})=>{s=e}),e.setNamePrefix=l,e.create=S,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=dom-walker.min.js.map
